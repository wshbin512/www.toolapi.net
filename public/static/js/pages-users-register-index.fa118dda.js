(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-register-index"],{"51d6":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".privacy-wrapper[data-v-671284e1]{width:80%;margin:auto;padding:%?20?%;background:#fff;border-radius:%?20?%;position:fixed;top:%?320?%;left:10%}.privacy-wrapper .content[data-v-671284e1]{overflow-x:hidden;height:%?700?%}.privacy-wrapper .close[data-v-671284e1]{height:%?100?%;line-height:%?100?%;text-align:right}.code img[data-v-671284e1]{width:100%;height:100%}.open[data-v-671284e1]{color:#00f;margin-left:%?20?%}",""]),t.exports=e},5511:function(t,e,i){var a=i("51d6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2360d131",a,!0,{sourceMap:!1,shadowMode:!1})},"56c4":function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("4160"),i("d81d"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),s=a(i("8a33")),c=i("ad08"),r=i("d8eb"),o={name:"RetrievePassword",data:function(){return{account:"",password:"",confirm_password:"",captcha:"",spread:"",keyCode:"",codeUrl:"",codeVal:"",isShowCode:!1,regionDval:["浙江省","杭州市","滨江区"],region:["省","市","区"],valueRegion:[0,0,0],district:[],multiArray:[],multiIndex:[0,0,0],cityId:0,defaultRegion:["广东省","广州市","番禺区"],defaultRegionCode:"110101",is_default:!0,isOpen:!1,user_agreement:""}},mixins:[s.default],mounted:function(){this.getCode()},onLoad:function(t){uni.setNavigationBarTitle({title:t.id?"找回密码":"用户注册"}),this.getCityList(),this.getIndexData()},methods:{getIndexData:function(){var e=this;(0,r.getIndexData)().then((function(i){t("log",i," at pages/users/register/index.vue:137"),e.user_agreement=i.data.user_agreement})).catch((function(t){}))},closeAgreement:function(){this.isOpen=!1},openAgreement:function(){this.isOpen=!0},back:function(){uni.navigateBack()},again:function(){this.codeUrl=VUE_APP_API_URL+"/captcha?"+this.keyCode+Date.parse(new Date)},getCode:function(){var t=this;(0,c.getCodeApi)().then((function(e){t.keyCode=e.data.key})).catch((function(e){t.$util.Tips({title:e.msg.msg||"加载失败"})}))},registerReset:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e,n=a.region,s={province:n[0],city:n[1],district:n[2],city_id:a.cityId},t("log","城市",s," at pages/users/register/index.vue:189"),a.account){i.next=6;break}return i.abrupt("return",a.$util.Tips({title:"请填写手机号码"}));case 6:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(a.account)){i.next=8;break}return i.abrupt("return",a.$util.Tips({title:"请输入正确的手机号码"}));case 8:if(a.captcha){i.next=10;break}return i.abrupt("return",a.$util.Tips({title:"请填写验证码"}));case 10:(0,c.register)({account:a.account,captcha:a.captcha,password:a.password,confirm_password:a.confirm_password,spread:a.spread,is_default:a.is_default,address:s,code:a.codeVal}).then((function(e){t("log","提交用户注册",e," at pages/users/register/index.vue:211"),a.$util.Tips({title:e.msg},{tab:3})})).catch((function(e){t("log","提交用户注册异常",e," at pages/users/register/index.vue:218"),a.$util.Tips({title:e})}));case 11:case"end":return i.stop()}}),i)})))()},code:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t,i.account){e.next=3;break}return e.abrupt("return",i.$util.Tips({title:"请填写手机号码"}));case 3:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(i.account)){e.next=5;break}return e.abrupt("return",i.$util.Tips({title:"请输入正确的手机号码"}));case 5:return 2==i.formItem&&(i.type="register"),e.next=8,(0,c.registerVerify)({phone:i.account,type:i.type,key:i.keyCode,code:i.codeVal}).then((function(e){t.$util.Tips({title:e.msg||"加载失败"}),i.sendCode()})).catch((function(t){i.$util.Tips({title:t})}));case 8:case"end":return e.stop()}}),e)})))()},getCityList:function(){var e=this,i=this;(0,r.getCity)().then((function(a){t("log","获取城市数据",a," at pages/users/register/index.vue:262"),e.district=a.data,i.initialize()})).catch((function(t){i.$util.Tips({title:t})}))},initialize:function(){var t=this,e=[],i=[],a=[];if(t.district.length){var n=t.district[0].c||[],s=n.length&&n[0].c||[];t.district.forEach((function(t){e.push(t.n)})),n.forEach((function(t){i.push(t.n)})),s.forEach((function(t){a.push(t.n)})),this.multiArray=[e,i,a]}},bindRegionChange:function(t){var e=this.multiIndex,i=this.district[e[0]]||{c:[]},a=i.c[e[1]]||{v:0},n=this.multiArray,s=t.detail.value;this.region=[n[0][s[0]],n[1][s[1]],n[2][s[2]]],this.cityId=a.v,this.valueRegion=[0,0,0],this.initialize()},bindMultiPickerColumnChange:function(t){var e=this,i=t.detail.column,a=t.detail.value,n=this.district[a]||{c:[]},s=e.multiArray,c=e.multiIndex;switch(c[i]=a,i){case 0:var r=n.c[0]||{c:[]};s[1]=n.c.map((function(t){return t.n})),s[2]=r.c.map((function(t){return t.n}));break;case 1:var o=e.district[c[0]].c[c[1]].c||[];s[2]=o.map((function(t){return t.n}));break;case 2:break}this.multiArray=s,this.multiIndex=c},ChangeIsDefault:function(e){t("log",e.detail.value.length," at pages/users/register/index.vue:351"),1==e.detail.value.length?this.is_default=!0:this.is_default=!1}}};e.default=o}).call(this,i("0de9")["log"])},"724d":function(t,e,i){"use strict";i.r(e);var a=i("c613"),n=i("c9ba");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("ebcd");var c,r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"671284e1",null,!1,a["a"],c);e["default"]=o.exports},"8a33":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{disabled:!1,text:"获取验证码"}},methods:{sendCode:function(){var t=this;if(!this.disabled){this.disabled=!0;var e=60;this.text="剩余 "+e+"s";var i=setInterval((function(){e-=1,e<0&&clearInterval(i),t.text="剩余 "+e+"s",t.text<"剩余 0s"&&(t.disabled=!1,t.text="重新获取")}),1e3)}}}};e.default=a},c613:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register absolute"},[i("div",{staticClass:"shading"},[i("div",{staticClass:"pictrue acea-row row-center-wrapper"},[i("v-uni-image",{attrs:{src:"/static/images/logo2.png"}})],1)]),i("div",{staticClass:"whiteBg"},[i("div",{staticClass:"title"},[t._v("用户注册")]),i("div",{staticClass:"list"},[i("div",{staticClass:"item"},[i("div",{staticClass:"acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/phone_1.png"}}),i("v-uni-input",{attrs:{type:"text",placeholder:"输入手机号"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)]),i("div",{staticClass:"item"},[i("div",{staticClass:"acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/code_2.png"}}),i("v-uni-input",{staticClass:"codeIput",attrs:{type:"text",placeholder:"输入验证码"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),i("v-uni-button",{staticClass:"code",class:!0===t.disabled?"on":"",attrs:{disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.code.apply(void 0,arguments)}}},[t._v(t._s(t.text))])],1)]),i("div",{staticClass:"item"},[i("div",{staticClass:"acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/code_2.png"}}),i("v-uni-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),i("div",{staticClass:"item"},[i("div",{staticClass:"acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/code_2.png"}}),i("v-uni-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)]),i("div",{staticClass:"item"},[i("div",{staticClass:"acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/invitation_code.png"}}),i("v-uni-input",{attrs:{type:"text",placeholder:"邀请人编号"},model:{value:t.spread,callback:function(e){t.spread=e},expression:"spread"}})],1)]),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name acea-row row-middle"},[i("v-uni-image",{attrs:{src:"/static/images/area.png"}}),t._v("注册地区")],1),i("v-uni-view",{staticClass:"address"},[i("v-uni-picker",{attrs:{mode:"multiSelector",value:t.valueRegion,range:t.multiArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindRegionChange.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"acea-row"},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.region[0])+"，"+t._s(t.region[1])+"，"+t._s(t.region[2]))]),i("v-uni-view",{staticClass:"iconfont icon-dizhi font-color"})],1)],1)],1)],1),i("v-uni-view",{staticClass:"item default acea-row row-middle"},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeIsDefault.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{checked:!!t.is_default}}),t._v("链贝行使用协议")],1),i("v-uni-view",{staticClass:"open",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAgreement.apply(void 0,arguments)}}},[t._v("[阅读]")])],1),t.isShowCode?i("div",{staticClass:"item"},[i("div",{staticClass:"align-left"},[i("v-uni-input",{staticClass:"codeIput",attrs:{type:"text",placeholder:"填写验证码"},model:{value:t.codeVal,callback:function(e){t.codeVal=e},expression:"codeVal"}}),i("div",{staticClass:"code",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.again.apply(void 0,arguments)}}},[i("img",{attrs:{src:t.codeUrl}})])],1)]):t._e()],1),i("div",{staticClass:"logon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.registerReset.apply(void 0,arguments)}}},[t._v("确认")]),i("div",{staticClass:"tip"},[i("span",{staticClass:"font-color-red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("立即登录")])])]),i("div",{staticClass:"bottom"}),t.isOpen?i("v-uni-view",{staticClass:"privacy-wrapper"},[i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.user_agreement))]),i("v-uni-view",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAgreement.apply(void 0,arguments)}}},[t._v("关闭")])],1):t._e()],1)},s=[]},c9ba:function(t,e,i){"use strict";i.r(e);var a=i("56c4"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},ebcd:function(t,e,i){"use strict";var a=i("5511"),n=i.n(a);n.a}}]);