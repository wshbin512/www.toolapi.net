(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59eaa130"],{"093a":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"h",(function(){return s})),a.d(t,"n",(function(){return l})),a.d(t,"i",(function(){return d})),a.d(t,"o",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"l",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"m",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"j",(function(){return v})),a.d(t,"b",(function(){return b}));var i=a("b6bd");function r(){return Object(i["a"])({url:"video/video/type_header",method:"get"})}function o(e){return Object(i["a"])({url:"video/video",method:"get",params:e})}function n(e,t){return Object(i["a"])({url:"video/video/set_show/".concat(e,"/").concat(t),method:"put"})}function s(e){return Object(i["a"])({url:"video/category/tree/".concat(e),method:"get"})}function l(e){return Object(i["a"])({url:"video/video/".concat(e),method:"get"})}function d(e){return Object(i["a"])({url:"video/video/".concat(e.id),method:"POST",data:e})}function c(e){return Object(i["a"])({url:"video/category",method:"get",params:e})}function u(){return Object(i["a"])({url:"video/category/create",method:"get"})}function m(e){return Object(i["a"])({url:"video/category/".concat(e),method:"get"})}function f(e){return Object(i["a"])({url:"video/category/set_show/".concat(e.id,"/").concat(e.is_show),method:"PUT"})}function p(){return Object(i["a"])({url:"video/video/get_temp_keys",method:"get"})}function h(){return Object(i["a"])({url:"user/user_label",method:"get"})}function g(e){return Object(i["a"])({url:"video/category/cascader_list/".concat(e),method:"get"})}function v(){return Object(i["a"])({url:"video/cache",method:"get"})}function b(){return Object(i["a"])({url:"video/cache",method:"delete"})}},"0bf0":function(e,t,a){"use strict";var i=a("5682"),r=a.n(i);r.a},5682:function(e,t,a){},"6d37":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"article-manager video-icon",attrs:{id:"shopp-manager"}},[a("div",{staticClass:"i-layout-page-header"},[a("PageHeader",{staticClass:"product_tabs",attrs:{"hidden-breadcrumb":""}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("router-link",{attrs:{to:{path:"/admin/video/video_list"}}},[a("Button",{staticClass:"mr20",attrs:{icon:"ios-arrow-back",size:"small"}},[e._v("返回")])],1),a("span",{staticClass:"mr20",domProps:{textContent:e._s(e.$route.params.id?"编辑电影":"添加电影")}})],1)])],1),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Tabs",{on:{"on-click":e.onhangeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("TabPane",{attrs:{label:"基本信息",name:"1"}}),a("TabPane",{attrs:{label:"电影详情",name:"2"}}),a("TabPane",{attrs:{label:"其他设置",name:"3"}})],1),a("Form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{rules:e.ruleValidate,model:e.formValidate,"label-width":e.labelWidth,"label-position":e.labelPosition},nativeOn:{submit:function(e){e.preventDefault()}}},[a("Row",{directives:[{name:"show",rawName:"v-show",value:"1"===e.currentTab,expression:"currentTab === '1'"}],attrs:{gutter:24,type:"flex"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影名称：",prop:"name"}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入电影名称"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影分类：",prop:"cate_id"}},[a("Select",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{multiple:""},model:{value:e.formValidate.cate_id,callback:function(t){e.$set(e.formValidate,"cate_id",t)},expression:"formValidate.cate_id"}},e._l(e.treeSelect,(function(t){return a("Option",{key:t.id,attrs:{disabled:0===t.pid,value:t.id}},[e._v(e._s(t.html+t.cate_name))])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"关键词语：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入关键词语"},model:{value:e.formValidate.keyword,callback:function(t){e.$set(e.formValidate,"keyword",t)},expression:"formValidate.keyword"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影概述：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{type:"textarea",rows:3,placeholder:"请输入电影概述"},model:{value:e.formValidate.info,callback:function(t){e.$set(e.formValidate,"info",t)},expression:"formValidate.info"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影封面：",prop:"image"}},[a("div",{staticClass:"pictrueBox",on:{click:function(t){return e.modalPicTap("dan","danFrom")}}},[e.formValidate.image?a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.formValidate.image,expression:"formValidate.image"}]}),a("Input",{staticStyle:{display:"none"},model:{value:e.formValidate.image,callback:function(t){e.$set(e.formValidate,"image",t)},expression:"formValidate.image"}})],1):a("div",{staticClass:"upLoad acea-row row-center-wrapper"},[a("Input",{staticStyle:{display:"none"},model:{value:e.formValidate.image,callback:function(t){e.$set(e.formValidate,"image",t)},expression:"formValidate.image"}}),a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1)]),a("div",{staticClass:"tips"},[e._v("(345*345)")])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"轮播广告：",prop:""}},[a("div",{staticClass:"acea-row"},[e._l(e.formValidate.slider_image,(function(t,i){return a("div",{key:i,staticClass:"pictrue",attrs:{draggable:"true"},on:{dragstart:function(a){return e.handleDragStart(a,t)},dragover:function(a){return a.preventDefault(),e.handleDragOver(a,t)},dragenter:function(a){return e.handleDragEnter(a,t)},dragend:function(a){return e.handleDragEnd(a,t)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}]}),a("Button",{staticClass:"btndel",attrs:{shape:"circle",icon:"md-close"},nativeOn:{click:function(t){return e.handleRemove(i)}}})],1)})),e.formValidate.slider_image.length<10?a("div",{staticClass:"upLoad acea-row row-center-wrapper",on:{click:function(t){return e.modalPicTap("duo")}}},[a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1):e._e(),a("Input",{staticStyle:{display:"none"},model:{value:e.formValidate.slider_image[0],callback:function(t){e.$set(e.formValidate.slider_image,0,t)},expression:"formValidate.slider_image[0]"}})],2),a("div",{staticClass:"tips"},[e._v("(最多10张"),a("br"),e._v("750*750)")])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影链接：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入电影链接"},model:{value:e.videoLink,callback:function(t){e.videoLink=t},expression:"videoLink"}}),a("input",{ref:"refid",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.zh_uploadFile_change}}),a("Button",{staticClass:"uploadVideo",attrs:{type:"primary",icon:"ios-cloud-upload-outline"},on:{click:e.zh_uploadFile}},[e._v(e._s(e.videoLink?"确认添加":"上传电影"))]),e.upload.videoIng?a("Progress",{attrs:{percent:e.progress,"stroke-width":5}}):e._e(),e.formValidate.video_link?a("div",{staticClass:"iview-video-style"},[a("video",{staticStyle:{width:"100%",height:"100%!important","border-radius":"10px"},attrs:{src:e.formValidate.video_link,controls:"controls"}},[e._v("\n                                    您的浏览器不支持 video 标签。\n                                ")]),a("div",{staticClass:"mark"}),a("Icon",{staticClass:"iconv",attrs:{type:"ios-trash-outline"},on:{click:e.delVideo}})],1):e._e()],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"播放通道：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入播放通道1"},model:{value:e.formValidate.video_link_one,callback:function(t){e.$set(e.formValidate,"video_link_one",t)},expression:"formValidate.video_link_one"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"播放通道：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入播放通道2"},model:{value:e.formValidate.video_link_two,callback:function(t){e.$set(e.formValidate,"video_link_two",t)},expression:"formValidate.video_link_two"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"播放通道：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入播放通道3"},model:{value:e.formValidate.video_link_three,callback:function(t){e.$set(e.formValidate,"video_link_three",t)},expression:"formValidate.video_link_three"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"关联标签：",prop:"label_id"}},[a("Select",{staticClass:"perW50",attrs:{multiple:""},model:{value:e.formValidate.label_id,callback:function(t){e.$set(e.formValidate,"label_id",t)},expression:"formValidate.label_id"}},e._l(e.labelSelect,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.label_name))])})),1)],1)],1)],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"2"===e.currentTab,expression:"currentTab === '2'"}]},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影详情："}},[a("vue-ueditor-wrap",{staticStyle:{width:"90%"},attrs:{config:e.myConfig},on:{beforeInit:e.addCustomDialog},model:{value:e.formValidate.description,callback:function(t){e.$set(e.formValidate,"description",t)},expression:"formValidate.description"}})],1)],1)],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"3"===e.currentTab,expression:"currentTab === '3'"}],attrs:{type:"flex",justify:"space-between"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"虚拟浏览："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{min:0,placeholder:"请输入虚拟浏览量"},model:{value:e.formValidate.ficti,callback:function(t){e.$set(e.formValidate,"ficti",t)},expression:"formValidate.ficti"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影排序："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{min:0,placeholder:"请输入电影排序"},model:{value:e.formValidate.sort,callback:function(t){e.$set(e.formValidate,"sort",t)},expression:"formValidate.sort"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"电影状态："}},[a("RadioGroup",{model:{value:e.formValidate.is_show,callback:function(t){e.$set(e.formValidate,"is_show",t)},expression:"formValidate.is_show"}},[a("Radio",{staticClass:"radio",attrs:{label:1}},[e._v("上架")]),a("Radio",{attrs:{label:0}},[e._v("下架")])],1)],1)],1),a("Col",e._b({},"Col",e.grid3,!1),[a("FormItem",{attrs:{label:"精选影片："}},[a("RadioGroup",{model:{value:e.formValidate.is_best,callback:function(t){e.$set(e.formValidate,"is_best",t)},expression:"formValidate.is_best"}},[a("Radio",{staticClass:"radio",attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1)],1),a("Col",e._b({},"Col",e.grid3,!1),[a("FormItem",{attrs:{label:"每日更新："}},[a("RadioGroup",{model:{value:e.formValidate.is_new,callback:function(t){e.$set(e.formValidate,"is_new",t)},expression:"formValidate.is_new"}},[a("Radio",{staticClass:"radio",attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1)],1),a("Col",e._b({},"Col",e.grid3,!1),[a("FormItem",{attrs:{label:"电影口令："}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入电影口令"},model:{value:e.formValidate.command_word,callback:function(t){e.$set(e.formValidate,"command_word",t)},expression:"formValidate.command_word"}})],1)],1)],1),a("FormItem",["1"!==e.currentTab?a("Button",{on:{click:e.upTab}},[e._v("上一步")]):e._e(),"3"!==e.currentTab?a("Button",{staticClass:"submission",attrs:{type:"primary"},on:{click:e.downTab}},[e._v("下一步")]):e._e(),e.$route.params.id||"3"===e.currentTab?a("Button",{staticClass:"submission",attrs:{type:"primary",disabled:e.openSubimit},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("保存")]):e._e()],1),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1),a("Modal",{attrs:{width:"60%",scrollable:"","footer-hide":"",closable:"",title:"上传封面图","mask-closable":!1,"z-index":1},model:{value:e.modalPic,callback:function(t){e.modalPic=t},expression:"modalPic"}},[e.modalPic?a("uploadPictures",{attrs:{isChoice:e.isChoice,gridBtn:e.gridBtn,gridPic:e.gridPic},on:{getPic:e.getPic,getPicD:e.getPicD}}):e._e()],1)],1)],1)},r=[],o=a("a34a"),n=a.n(o),s=a("2f62"),l=a("310e"),d=a.n(l),c=a("b0e7"),u=a("6625"),m=a.n(u),f=a("093a");function p(e){return v(e)||g(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function v(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function b(e,t,a,i,r,o,n){try{var s=e[o](n),l=s.value}catch(d){return void a(d)}s.done?t(l):Promise.resolve(l).then(i,r)}function w(e){return function(){var t=this,a=arguments;return new Promise((function(i,r){var o=e.apply(t,a);function n(e){b(o,i,r,n,s,"next",e)}function s(e){b(o,i,r,n,s,"throw",e)}n(void 0)}))}}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={name:"video_videoAdd",components:{VueUeditorWrap:m.a,uploadPictures:c["a"],draggable:d.a},data:function(){return{spinShow:!1,openSubimit:!1,grid2:{xl:10,lg:12,md:12,sm:24,xs:24},grid3:{xl:18,lg:18,md:20,sm:24,xs:24},oneFormBatch:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}],isBtn:!1,myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"/admin/UEditor/",serverUrl:""},columns2:[{title:"电影图片",slot:"pic",align:"center",minWidth:80},{title:"电影编号",slot:"bar_code",align:"center",minWidth:120},{title:"操作",slot:"action",fixed:"right",align:"center",minWidth:140}],columns:[],columnsInstall:[],columnsInstal2:[],gridPic:{xl:6,lg:8,md:12,sm:12,xs:12},gridBtn:{xl:4,lg:8,md:8,sm:8,xs:8},formValidate:{name:"",cate_id:[],label_id:[],keyword:"",info:"",image:"",slider_image:[],description:"",ficti:0,sort:0,is_show:1,is_best:0,is_new:0,id:0,video_link:"",video_link_one:"",video_link_two:"",video_link_three:"",items:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:""}],header:[],command_word:""},ruleList:[],templateList:[],createBnt:!1,showIput:!1,manyFormValidate:[],oneFormValidate:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0,brokerage:0,brokerage_two:0,vip_price:0}],images:[],imagesTable:"",currentTab:"1",isChoice:"",grid:{xl:8,lg:8,md:12,sm:24,xs:24},loading:!1,modalPic:!1,template:!1,uploadList:[],treeSelect:[],labelSelect:[],picTit:"",tableIndex:0,ruleValidate:{name:[{required:!0,message:"请输入电影名称",trigger:"blur"}],cate_id:[{required:!0,message:"请选择电影分类",trigger:"change",type:"array",min:"1"}],keyword:[{required:!0,message:"请输入电影关键字",trigger:"blur"}],info:[{required:!0,message:"请输入电影简介",trigger:"blur"}]},manyBrokerage:0,manyBrokerageTwo:0,manyVipPrice:0,upload:{videoIng:!1},progress:0,videoLink:"",videoLinkOne:"",videoLinkTwo:"",videoLinkThree:"",updateIds:[],updateName:[],columnsInstalM:[],moveIndex:""}},computed:V({},Object(s["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:120},labelPosition:function(){return this.isMobile?"top":"right"},labelBottom:function(){return this.isMobile?void 0:15}}),created:function(){this.columns=this.columns2.slice(0,8)},mounted:function(){var e=this;"0"!==this.$route.params.id&&this.$route.params.id?this.getInfo():"0"===this.$route.params.id&&Object(f["j"])().then((function(t){var a=t.data.info;if(!Array.isArray(a)){var i=a.cate_id.map(Number),r=a.label_id.map(Number),o=[];e.formValidate=a,e.updateIds=o,e.formValidate.cate_id=i,e.formValidate.label_id=r,e.formValidate.header=[],e.manyFormValidate=[],e.spinShow=!1}})).catch((function(t){e.$Message.error(t.msg)})),this.videoCategory(),this.userLabel()},methods:{checkMove:function(e){this.moveIndex=e.draggedContext.index},end:function(){this.moveIndex=""},unique:function(e){var t=new Map;return e.filter((function(e){return!t.has(e.id)&&t.set(e.id,1)}))},delVideo:function(){var e=this;e.$set(e.formValidate,"video_link","")},zh_uploadFile:function(){this.videoLink?this.formValidate.video_link=this.videoLink:this.$refs.refid.click()},zh_uploadFile_change:function(e){var t=this,a=e.target.files[0].name.substr(e.target.files[0].name.indexOf("."));if(".mp4"!==a)return t.$Message.error("只能上传MP4文件");Object(f["m"])().then((function(a){t.$videoCloud.videoUpload({type:a.data.type,evfile:e,res:a,uploading:function(e,a){t.upload.videoIng=e}}).then((function(e){t.formValidate.video_link=e.url,t.$Message.success("视频上传成功")})).catch((function(e){t.$Message.error(e)}))})).catch((function(e){t.$Message.error(e.msg)}))},upTab:function(){this.currentTab=(Number(this.currentTab)-1).toString()},downTab:function(){this.currentTab=(Number(this.currentTab)+1).toString()},videoCategory:function(){var e=this;Object(f["h"])(1).then((function(t){e.treeSelect=t.data})).catch((function(t){e.$Message.error(t.msg)}))},userLabel:function(){var e=this;Object(f["f"])().then((function(t){e.labelSelect=t.data.list})).catch((function(t){e.$Message.error(t.msg)}))},getInfo:function(){var e=this,t=this;t.spinShow=!0,Object(f["n"])(t.$route.params.id).then(function(){var a=w(n.a.mark((function a(i){var r,o,s;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("请求详情",i),r=i.data.videoInfo,o=r.cate_id.map(Number),s=r.label_id.map(Number),t.formValidate=r,t.formValidate.cate_id=o,t.formValidate.label_id=s,t.formValidate.header=[],t.manyFormValidate=[],e.spinShow=!1;case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(t){console.log("请求详情失败",t),e.spinShow=!1,e.$Message.error(t.msg)}))},onhangeTab:function(e){this.currentTab=e},handleRemove:function(e){this.images.splice(e,1),this.formValidate.slider_image.splice(e,1)},changeCancel:function(e){this.modalPic=!1},modalPicTap:function(e,t,a){this.modalPic=!0,this.isChoice="dan"===e?"单选":"多选",this.picTit=t,this.tableIndex=a},getPic:function(e){switch(this.picTit){case"danFrom":this.formValidate.image=e.att_dir,this.$route.params.id||(this.oneFormValidate[0].pic=e.att_dir);break;case"danTable":this.oneFormValidate[this.tableIndex].pic=e.att_dir;break;case"duopi":this.oneFormBatch[this.tableIndex].pic=e.att_dir;break;case"recommend_image":this.formValidate.recommend_image=e.att_dir;break;default:this.manyFormValidate[this.tableIndex].pic=e.att_dir}this.modalPic=!1},getPicD:function(e){var t=this;this.images=e,this.images.map((function(e){t.formValidate.slider_image.push(e.att_dir),t.formValidate.slider_image=t.formValidate.slider_image.splice(0,10)})),this.modalPic=!1},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e)t.formValidate.header=[],t.formValidate.items=[],t.openSubimit=!0,console.log(t.formValidate),Object(f["i"])(t.formValidate).then(function(){var e=w(n.a.mark((function e(a){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.openSubimit=!1,t.$Message.success(a.msg),"0"===t.$route.params.id&&Object(f["b"])().catch((function(e){t.$Message.error(e.msg)})),setTimeout((function(){t.$router.push({path:"/admin/video/video_list"})}),500);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.openSubimit=!1,t.$Message.error(e.msg)}));else{if(!t.formValidate.name)return t.$Message.warning("基本信息-电影名称不能为空");if(!t.formValidate.cate_id.length)return t.$Message.warning("基本信息-电影分类不能为");if(!t.formValidate.keyword)return t.$Message.warning("基本信息-电影关键字不能为");if(!t.formValidate.info)return t.$Message.warning("基本信息-电影简介不能为");if(!t.formValidate.image)return t.$Message.warning("基本信息-电影封面图不能为");if(!t.formValidate.slider_image.length)return t.$Message.warning("基本信息-电影轮播图不能为")}}))},validate:function(e,t,a){!1===t&&this.$Message.warning(a)},handleDragStart:function(e,t){this.dragging=t},handleDragEnd:function(e,t){this.dragging=null},handleDragOver:function(e){e.dataTransfer.dropEffect="move"},handleDragEnter:function(e,t){if(e.dataTransfer.effectAllowed="move",t!==this.dragging){var a=p(this.formValidate.slider_image),i=a.indexOf(this.dragging),r=a.indexOf(t);a.splice.apply(a,[r,0].concat(p(a.splice(i,1)))),this.formValidate.slider_image=a}},addCustomDialog:function(e){window.UE.registerUI("test-dialog",(function(e,t){var a=new window.UE.ui.Dialog({iframeUrl:"/admin/widget.images/index.html?fodder=dialog",editor:e,name:t,title:"上传图片",cssRules:"width:1200px;height:500px;padding:20px;"});this.dialog=a;var i=new window.UE.ui.Button({name:"dialog-button",title:"上传图片",cssRules:"background-image: url(https://cdn.oss.9gt.net/prov1.1/1/icons.png);background-position: -726px -77px;",onclick:function(){a.render(),a.open()}});return i}),37),window.UE.registerUI("video-dialog",(function(e,t){var a=new window.UE.ui.Dialog({iframeUrl:"/admin/widget.video/index.html?fodder=video",editor:e,name:t,title:"上传视频",cssRules:"width:1000px;height:500px;padding:20px;"});this.dialog=a;var i=new window.UE.ui.Button({name:"video-button",title:"上传视频",cssRules:"background-image: url(../../../assets/images/icons.png);background-position: -320px -20px;",onclick:function(){a.render(),a.open()}});return i}),38)}}},x=y,C=(a("0bf0"),a("2877")),I=Object(C["a"])(x,i,r,!1,null,"54de7b84",null);t["default"]=I.exports}}]);